!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.motio=e():t.motio=e()}(this,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n(1);!function(){const e={EVENT_MAP:{hover:"mouseover",click:"click"},animate:(t,n)=>{const a=document.querySelectorAll(t),i=Array.from(a);let o=!1;a.forEach((t,a)=>{t.motio={},t.motio.running=!1,o=!1;const r=t.dataset.trigger;void 0!==r&&(o=!0,i.splice(a,1),t.addEventListener(e.EVENT_MAP[r],()=>{!1===t.motio.running&&(t.motio.running=!0,e.loadOpts(t,n),e.doAnim(t))}))}),!1===o&&i.forEach((t,a)=>{e.loadOpts(i[a],n),e.doAnim(i[a])})},loadOpts:(t,n)=>{e.isEmptyObj(n)?e.loadDataAttr(t):(n=e.initDefaults(n),Object.assign(t.motio,n)),t.motio.fontSize=parseFloat(window.getComputedStyle(t,null).getPropertyValue("font-size"))||24,t.motio.currentDelay=0},initDefaults:t=>(isNaN(parseInt(t.fullAnimation))?t.fullAnimation=e.animParts:t.fullAnimation=0===parseInt(t.fullAnimation)?e.animParts:e.animFull,t.delay=parseInt(t.delay)||0,t.clean=parseInt(t.clean)||0,t.retain=parseInt(t.retain)||0,t.duration=parseInt(t.duration)||1e3,t.iterationStart=parseFloat(t.iterationStart)||0,t.iterations=(-1===parseInt(t.iterations)?1/0:parseInt(t.iterations))||1,t.direction=t.direction||"normal",t.animations=t.animations||!1,t),loadDataAttr:t=>{t.motio.fullAnimation=0===parseInt(t.dataset.full)?e.animParts:e.animFull,t.motio.delay=parseInt(t.dataset.delay)||0,t.motio.clean=parseInt(t.dataset.clean)||0,t.motio.retain=t.dataset.retain||!1,t.motio.duration=parseInt(t.dataset.duration)||1e3,t.motio.iterationStart=parseFloat(t.dataset.iterationstart)||0,t.motio.iterations=-1===parseInt(t.dataset.iterations)?1/0:parseInt(t.dataset.iterations)||1,t.motio.direction=t.dataset.direction||"normal",t.motio.animations=t.dataset.animations||!1},makeEmpty:t=>{t.textContent=""},props:t=>({duration:t.motio.duration,fill:"forwards",delay:t.motio.currentDelay,iterationStart:t.motio.iterationStart,iterations:t.motio.iterations,direction:t.motio.direction}),cleanUp:t=>{if(!1!==t.motio.retain){let e={};t.motio.retain.split(", ").forEach(n=>{const a=n.split(/\[(.*?)\]/),i=t.motio.animObj[a[0]][a[1]];e[a[0]]=i}),Object.assign(t.style,e)}let e="";Array.from(t.childNodes).forEach(n=>{if("A"===n.tagName){n.querySelectorAll("span").forEach(t=>{n.append(t.innerText),t.remove()}),0!==t.motio.retain&&Object.assign(n.style,t.motio.animObj),e+=n.outerHTML}else e+=0===n.innerText.length?" ":n.innerText,n.remove()}),t.innerText=e},animFull:t=>{t.motio.currentDelay=t.motio.currentDelay+t.motio.delay,t.animate(t.motio.animObj,e.props(t))},animParts:t=>{t.lastElementCb=(n,a)=>{n===a-1&&e.cleanUp(t)};const n=t.querySelector("a");null!==n&&(t.textContent=t.textContent.replace(n.innerText,"*"));let a=t.textContent.split("");e.makeEmpty(t);let i,o=1;void 0!==t.motio.animObj.opacity&&1==t.motio.animObj.opacity&&(o=0),a.forEach((r,l)=>{let s=!0;if("*"===r){let a=document.createElement("a");a.href=n.href,a.target=n.target,a.style.textDecoration="none";return n.innerText.split("").forEach(n=>{const l=document.createElement("span");l.innerText=n,l.style.display="inline-block",l.style.opacity=o," "===r&&(l.style.width=t.motio.fontSize/4+"px",s=!1),a.append(l),i=l.animate(t.motio.animObj,e.props(t)),t.motio.currentDelay=t.motio.currentDelay+t.motio.delay}),void t.append(a)}const c=document.createElement("span");c.innerText=r,c.style.display="inline-block",c.style.opacity=o," "===r&&(c.style.width=t.motio.fontSize/4+"px",s=!1),t.append(c),!0===s&&(i=c.animate(t.motio.animObj,e.props(t))),1===t.motio.clean&&(i.onfinish=()=>{t.lastElementCb(l,a.length)}),t.motio.currentDelay=t.motio.currentDelay+t.motio.delay})},isEmptyObj:t=>{for(let e in t)return!1;return!0},str2Obj:t=>t.split("|").map(t=>t.split(":").map(t=>t.trim())).reduce((t,n)=>(t[n[0]]=n[1].replace("[","").replace("]","").split(", ").map(t=>t.replace("randomColor",e.randomColor())),t),{}),randomColor:()=>"#xxxxxx".replace(/x/g,t=>(16*Math.random()|0).toString(16)),doAnim:t=>{let n={};!1!==t.motio.animations&&(n=!1==t.motio.animations instanceof Object?e.str2Obj(t.motio.animations):t.motio.animations),e.isEmptyObj(n)||(n=e.ensureExplicit(n,t),t.motio.animObj=n,t.motio.fullAnimation(t))},ensureExplicit:(t,e)=>{for(let[n,a]of Object.entries(t))if(1===a.length){let a=window.getComputedStyle(e,null).getPropertyValue(n);null!=a&&t[n].unshift(a)}return t}};t.exports=e}()},function(t,e,n){"use strict";!function(){const e={animate:t=>{let n=document.querySelectorAll(t);const a={fade:e.fade,slide:e.slide,color:e.color,grow:e.grow,rotate:e.rotate};n.forEach(t=>{if(e.loadOpts(t),"function"!=typeof a[t.anitext.animationType])return console.warn(`animation '${t.anitext.animationType}' is not available. Maybe a typo? animation skipped.`),!1;let n=t.textContent.split("");e.makeEmpty(t),e.makeVisible(t),t.lastElementCb=(n,a)=>{n===a-1&&e.cleanUp(t)},a[t.anitext.animationType](n,t)})},loadOpts:t=>{t.anitext={},t.anitext.delay=parseInt(t.dataset.delay)||0,t.anitext.duration=parseInt(t.dataset.duration)||0,t.anitext.iterationStart=parseFloat(t.dataset.iterationstart)||0,t.anitext.iterations=-1==t.dataset.iterations?1/0:parseInt(t.dataset.iterations)||1,t.anitext.direction=t.dataset.direction||"normal",t.anitext.animationType=t.dataset.animation||"fade",t.anitext.fontSize=parseFloat(window.getComputedStyle(t,null).getPropertyValue("font-size"))||24,t.anitext.currentDelay=0},cleanUp:t=>{"color"===t.anitext.animationType&&(t.style.color=t.dataset.color),t.querySelectorAll("span.an").forEach(e=>{t.append(e.innerText),e.remove()});let e=t.firstChild;"DIV"===e.tagName&&(t.append(e.innerText),e.remove())},makeEmpty:t=>{t.textContent=""},makeVisible:t=>{t.style.visibility="visible"},props:t=>({duration:t.anitext.duration,fill:"forwards",delay:t.anitext.currentDelay,iterationStart:t.anitext.iterationStart,iterations:t.anitext.iterations,direction:t.anitext.direction}),fade:(t,n)=>{if(n.direction=n.dataset.from||"left","left"===n.direction)t.forEach((a,i)=>{let o=document.createElement("span");o.innerText=a,o.classList.add("an"),o.style.opacity=0,n.append(o),o.animate({opacity:1},e.props(n)).onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay});else{let a=[],i=t.length-1;t.forEach(t=>{let e=document.createElement("span");e.innerText=t,e.classList.add("an"),e.style.opacity=0,n.append(e),a[i]=e,i--});for(let i=0;i<t.length;i++){a[i].animate({opacity:1},e.props(n)).onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay}}},slide:(t,n)=>{n.direction=n.dataset.from||"top";let a=document.createElement("div");a.style.position="relative",a.style.overflow="hidden",t.forEach(t=>{let e=document.createElement("span");e.innerText=t,a.append(e)}),n.append(a),a.style.height=n.firstChild.clientHeight+"px";let i=a.querySelectorAll("span"),o=0,r=n.anitext.fontSize/4;i.forEach((a,i)=>{let l,s=a.offsetWidth;a.style.position="relative",a.classList.add("an"),a.style.left=o+"px","top"===n.direction?(a.style.top=`-${2*n.offsetTop}px`,l=a.animate({top:"0px"},e.props(n))):"bottom"===n.direction&&(a.style.bottom=`-${2*n.offsetTop}px`,l=a.animate({bottom:"0px"},e.props(n))),l.onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay,o=0===s?r:0})},color:(t,n)=>{if(n.color=n.dataset.color||"#FF0000",n.direction=n.dataset.from||"left","left"===n.direction)t.forEach((a,i)=>{let o=document.createElement("span");o.innerText=a,o.classList.add("an"),n.append(o),o.animate({color:n.color},e.props(n)).onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay});else{let a=[],i=t.length-1;t.forEach(t=>{let e=document.createElement("span");e.innerText=t,e.classList.add("an"),n.append(e),a[i]=e,i--});for(let i=0;i<t.length;i++){a[i].animate({color:n.color},e.props(n)).onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay}}},grow:(t,n)=>{let a=document.createElement("div");a.style.position="relative",t.forEach(t=>{let e=document.createElement("span");e.innerText=t,e.style.height="0px",e.style.display="inline-block",e.style.overflow="hidden",e.classList.add("an"),a.append(e)}),n.append(a),a.style.height=n.firstChild.clientHeight+"px";let i=a.querySelectorAll("span"),o=0,r=n.anitext.fontSize/4;i.forEach((i,l)=>{let s=i.offsetWidth;i.style.position="relative",i.style.left=o+"px",i.animate({height:a.style.height},e.props(n)).onfinish=()=>{n.lastElementCb(l,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay,o=0===s?r:0})},rotate:(t,n)=>{const a={left:"",right:"-"};n.start=n.dataset.start||180,n.direction=n.dataset.from||"left",t.forEach(t=>{let e=document.createElement("span");e.innerText=t,e.classList.add("an"),e.style.display="inline-block",e.style.transform=`rotate(${a[n.direction]+n.start}deg)`,n.append(e)});let i=n.querySelectorAll("span"),o=0,r=n.anitext.fontSize/4;i.forEach((a,i)=>{let l=a.offsetWidth;a.style.marginLeft=o+"px",a.animate({transform:"rotate(0deg)"},e.props(n)).onfinish=()=>{n.lastElementCb(i,t.length)},n.anitext.currentDelay=n.anitext.currentDelay+n.anitext.delay,o=0===l?r:0})}};t.exports=e}()}])}));