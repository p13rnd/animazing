!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.motio=e():t.motio=e()}(this,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";!function(){const e={animate:(t,o)=>{document.querySelectorAll(t).forEach(t=>{e.loadOpts(t,o),e.makeVisible(t),e.doAnim(t)})},loadOpts:(t,o)=>{t.motio={},e.isEmptyObj(o)?e.loadDataAttr(t):(o=e.initDefaults(o),Object.assign(t.motio,o)),t.motio.currentDelay=0},initDefaults:t=>(isNaN(parseInt(t.fullAnimation))?t.fullAnimation=e.animParts:t.fullAnimation=0===parseInt(t.fullAnimation)?e.animParts:e.animFull,t.delay=parseInt(t.delay)||0,t.clean=parseInt(t.clean)||0,t.retain=parseInt(t.retain)||0,t.duration=parseInt(t.duration)||1e3,t.iterationStart=parseFloat(t.iterationStart)||0,t.iterations=(-1===parseInt(t.iterations)?1/0:parseInt(t.iterations))||1,t.direction=t.direction||"normal",t.animations=t.animations||!1,t),loadDataAttr:t=>{t.motio.fullAnimation=0===parseInt(t.dataset.full)?e.animParts:e.animFull,t.motio.delay=parseInt(t.dataset.delay)||0,t.motio.clean=parseInt(t.dataset.clean)||0,t.motio.retain=parseInt(t.dataset.retain)||0,t.motio.duration=parseInt(t.dataset.duration)||1e3,t.motio.iterationStart=parseFloat(t.dataset.iterationstart)||0,t.motio.iterations=-1===parseInt(t.dataset.iterations)?1/0:parseInt(t.dataset.iterations)||1,t.motio.direction=t.dataset.direction||"normal",t.motio.animations=t.dataset.animations||!1},makeEmpty:t=>{t.textContent=""},makeVisible:t=>{t.style.visibility="visible"},props:t=>({duration:t.motio.duration,fill:"forwards",delay:t.motio.currentDelay,iterationStart:t.motio.iterationStart,iterations:t.motio.iterations,direction:t.motio.direction}),cleanUp:t=>{0!==t.motio.retain&&Object.assign(t.style,t.motio.animObj);let e="";Array.from(t.childNodes).forEach((o,n)=>{if("A"===o.tagName){o.querySelectorAll("span").forEach(t=>{o.append(t.innerText),t.remove()}),0!==t.motio.retain&&Object.assign(o.style,t.motio.animObj),e+=o.outerHTML}else e+=o.innerText,o.remove()}),t.innerHTML=e},animFull:t=>{t.animate(t.motio.animObj,e.props(t)),t.motio.currentDelay=t.motio.currentDelay+t.motio.delay},animParts:t=>{t.lastElementCb=(o,n)=>{o===n-1&&e.cleanUp(t)};const o=t.querySelector("a");null!==o&&(t.textContent=t.textContent.replace(o.innerText,"*"));let n=t.textContent.split("");e.makeEmpty(t);let i,a=1;void 0!==t.motio.animObj.opacity&&1==t.motio.animObj.opacity&&(a=0),n.forEach((r,l)=>{if("*"===r){let n=document.createElement("a");n.href=o.href,n.target=o.target,n.style.textDecoration="none";return o.innerText.split("").forEach(o=>{const r=document.createElement("span");r.innerText=o,r.style.opacity=a,i=r.animate(t.motio.animObj,e.props(t)),t.motio.currentDelay=t.motio.currentDelay+t.motio.delay,n.append(r)}),void t.append(n)}const m=document.createElement("span");m.innerText=r,m.style.opacity=a,t.append(m),i=m.animate(t.motio.animObj,e.props(t)),1===t.motio.clean&&(i.onfinish=()=>{t.lastElementCb(l,n.length)}),t.motio.currentDelay=t.motio.currentDelay+t.motio.delay})},isEmptyObj:t=>{for(let e in t)return!1;return!0},str2Obj:t=>t.split(",").map(t=>t.split(":").map(t=>t.trim())).reduce((t,e)=>(t[e[0]]=e[1],t),{}),doAnim:t=>{let o={};!1!==t.motio.animations&&(o=!1==t.motio.animations instanceof Object?e.str2Obj(t.motio.animations):t.motio.animations),e.isEmptyObj(o)||(t.motio.animObj=o,t.motio.fullAnimation(t))}};t.exports=e}()}])}));